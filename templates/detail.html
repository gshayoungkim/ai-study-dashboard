{% extends "base.html" %}
{% block title %}{{ participant.name }}{% endblock %}
{% block content %}
<div class="detail-container">
    <h2>{{ participant.name }}</h2>
    <div class="detail-stats">
        <div class="stat">
            <span class="label">ì™„ë£Œ</span>
            <span class="value">{{ participant.total_completed }}/{{ current_progress }}</span>
        </div>
        <div class="stat">
            <span class="label">ì§„í–‰ë¥ </span>
            <span class="value">{{ (participant.total_completed / current_progress * 100) | int }}%</span>
        </div>
    </div>

    <h3>ğŸ… ë°°ì§€</h3>
    <div class="badges-grid">
        {% if participant.badges %}
            {% for badge in participant.badges %}
            <div class="badge">{{ badge.icon }} {{ badge.name }}</div>
            {% endfor %}
        {% else %}
            <p>ì•„ì§ ë°°ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>

    <h3>ğŸ“ ì œì¶œ í˜„í™©</h3>
    <div class="submissions-grid">
        {% for i in range(1, current_progress + 1) %}
        {% set ch_key = 'ch' + i|string %}
        <div class="submission-item {% if participant.submissions.get(ch_key, {}).get('completed', False) %}completed{% endif %}">
            <div>Ch{{ i }}</div>
            {% if participant.submissions.get(ch_key, {}).get('completed', False) %}
            <span class="ok">âœ“</span>
            <a href="{{ participant.submissions.get(ch_key, {}).get('url', '#') }}" target="_blank">íŒŒì¼</a>
            {% else %}
            <span class="pending">â³</span>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <a href="/leaderboard" class="btn-back">â† ëŒì•„ê°€ê¸°</a>
</div>
{% endblock %}
